#
# bash recipes/docker/adabeam_atac.sh
#
set -e  # Exit on error.

readonly docker_image_name="nucleobench-docker"
readonly output="./output/docker_recipe/adabeam_atac"
mkdir -p "${output}"
readonly fullpath="$(realpath $output)"

docker build -t "${docker_image_name}" -f Dockerfile .

docker run \
    -v "${fullpath}":"${fullpath}"  \
    "${docker_image_name}" \
    --model bpnet \
        --protein 'ATAC' \
    --optimization adabeam \
        --beam_size 2 \
        --n_rollouts_per_root 4 \
        --mutations_per_sequence 2 \
        --rng_seed 0 \
    --max_seconds 240 \
    --optimization_steps_per_output 5 \
    --proposals_per_round 2 \
    --output_path ${fullpath} \
    --seed_sequence TTGTATCAGGGGAAGTAAGTGGGAGGAGATAGACCTGGGACCCTTAAAAGCAGGAAGTATGGCAGAATAAAGACTTGAAGGAAGAAATCAGGTCATAGCCCTCCTGATGAATACTTTCCAAATGCTCTGTACTGTCCTTAGAACCAACTCCAGACATTCTGTCCTGGCTTATTACACGCTATGGGATTTGCACCCTTCCTGATTTCCCTTGCCCACACCTCCATTGGGTCAAAGCTCATTGTCTTCTCAGGGGCTTTCTACAGCCTTTCCCATGAATTCGAATGTTGCCCATTGAATCCCACACAGCTGCCTCCTTCCTGCAAGTCTCATCTGAGCGTCACGGTTAGTTCCTTCCCTGATTCTCCTATCCTAATGTGAAATAGCCACCCAGTCTCTCACACCTTGTTTAACTTCTCCACGTAGCTGTTATCACCATTCGATATTTCTCTTCTTGATCAAGAAGATCAAGATCTGAAGATTGTTTTCTGCCTCGCCCAACAGAATGTGGAATAGGGCCCCATTTTATCCCGAGCGCCTAATAGTGCCTGGCAAATAGTATGTGCCCCAAAATTATTTTCTGGATGGATGAATGAAAGGTGTAGTGGAACAGTAACGGGTTTGGGTTCATTCATCCATTTATTCACCTAAAAATCCATCCAAGTGTTTGATCCTATCTCAGCTCCAGGTTAGCTTTGATACTTTGGGTAGGTTATCTAGCCAACATAGACCCTGGCTTTCTCCTATGTTAAAGGAGCGTAAGAAGTCCTACTTTGCATAGTTACTAATTGCTATAAGAACAGAATGAGATGGCACATCTAAGTTTTTGATGAGAGAATGGTGCATAGCACTATTGGAGCGTGTGACACAAAATAGATTGTCTTATTACTGTACACCCAACTCCTACTTTTAATAGGTGAATGAACTAATGTTCCTTTTTTAATTTACCTCGACCAATACCAATTAAAATAGAGTAGTTCATTCGCTCTTCCCTGTCTGGTTGCTTTATTGAGTTCAGAGAGAGAACACAAAATTTCCCATGGGAAAAGGGAACATGACAGACAGAAATAGTGATCTAGTGTTGGGGGAAATGAAGGCCTGGGAGTGTGGGGAGATTCTGCATTGTTGCATGTCAGTGAAGAGATGCTAGGGTGTATTAAAGTGTTTTAGAGGAGAGAATTGTTGAAGCCCCAGTTTTGCTTGCTTGGTGATATGGTTTGGATATTTGTTCCTTCCAAACCTCATATTGAAATTTGATCCCCCAATGTTGGGGATGGGACTTTGTGGGAGGTGTTTGGATTGTGGGGGCTGATCTCTCATGAAGGGCTTGGTGTCATTCTTGAGGAAGTGAGTGAGCTCTCACTCTTAGTTCCCGGAAAAACTGGTTGTTGAAAAGAGCCTGGCACCTCCTCCTCTCTATCTCGCCTCCTGCTTCTTACCACATGACGCCTGCTCCCCTTTGCCTTCCACCATGAGTGGAAGCTTCCTGGGGCCCTCACTGTGCTTTTTGTACAGCCTGCAGAACGATGATCCCAAATAAACCTCTATTCTTTATAAATTACTCAGCCTTGGGTATTCGTTTACAGCAACACAAACAGACTGAGACACCTGGGGAATATATCCTTGGCACTTTATGCTGTGGTGGCAGTATTCTGTTGCCAGAAAGCTCCTGGCCTTGTTGCTGGGAGGTGGAGTAGAATGGCTCTACAGAGCGTGGCTCTTGTGCTAGACTGCCTGGTTTTGAACTGGGCTCTGTTATTAATACTTACTAGCTGTGTGACCTTGGACAACATATTTAACATCTTTGTGCCCCATTTTTCTTACCTATAAAATGAAAAAAATAAAAATAGTCTTGACCTTCATAGGGTTATTATGAAGATTGTACATGTGTCAGATGGAAGGGGCTTAGGACAGTGCCCAGGGCACATGAAATGTTATATTAGTTGGAATGTGTACTAGCTATTACACTAGCAGTGTTCTTTTATCCTTGTTTTTTGGTATATAAAATAATGCCAATAATATATGCTGTATAGGATTGTTGTAGAGAGTAGATAACAACTGTAATATTGGTGAAAAAGTGACTGGTCCATAGTAGGCACTATTATGTCCCCATGTGTTAGTATTCATTCTGGTTTTGCTTTCCCTTCTCTCTTCCTGTAATTTTTAGAATTAGTGTAAGATGTGTTAAAAGGTAGTTAGTGCTTAGGGATGGAAACCACAGTCCTGTCTCAGGCTCAAAACTAAATAGGCTGAGCCCTTACTATTTGTAGAGAGAGACTCTTCAAAGAAACACCCATTTGTCTTAGCTCAGTTAAGGAAGTCAATCTCTTCTCTCCACTGTAAGTGGCCCATTAACCTACCTGGAGAGTCAAACAACCTGGACTCCAGTCTGGAGTTTTCCACTGAGATATTCCAACCTCTCCATGTCTCGATATTCTCATCTGCCAAGGAGGGGTGAAAACACAGGTGCTACATACCTCATGAGGTTATCAATAAAGTCAGATATGCCTATCTTGGACTCAGTTAAAGGACTCTAAAATAGGATGGTGATATCAGACTATGCAGTAAGGTGGGACTATATAGCTGATGTCCCAGTAAGAGCAATATGTTCATTGTTTCCCCTCTGCTAGGAATATCATGAATTTTCTCTTAAGACTCCCCCGAACATGTACATGCACACACACTTTCCCAGATTATTGTCATTACCACTAGTCATTGCAAATGGGTGAACAAGTCTATATTTGGTGGAAGAAGACATGTGCTTATTGCAGACTCCCCCTACCTAATTGTGTCCAGTTACTCACCCATCCACTGTGGGTGGAGTAGAGGCAGGGGCCTCCCTTCACATGTGTGGAGTGTAACGCTGTGGTGGAACAAGCCAGGTAGCCATCCACTGTGTATCAGTACTGTTTCATCACCTTGAAATAAAACACTCTTACTTCTGGGATGCATGGAAAAGCTTTACTTTTCCTTATTTTGTTTTGTTGAACTTAGAAGGAAGGA
